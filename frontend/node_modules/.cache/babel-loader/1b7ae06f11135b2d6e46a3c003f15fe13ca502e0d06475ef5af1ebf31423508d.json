{"ast":null,"code":"import React from'react';import ArtistsCard from\"./ArtistsCard\";import{useState,useEffect,useCallback}from'react';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Artists(){const[artistsData,setArtistsData]=useState({\"Artists\":[{\"name\":\"Chidish Gambino\",\"id\":\"73sIBHcqh3Z3NyqHKZ7FOL\",\"popularity\":79,\"albums\":[\"Atavista\"],\"album_covers\":[\"https://i.scdn.co/image/ab67616d0000b273a9afb2484111b87abc2b4a80\",\"https://i.scdn.co/image/ab67616d0000b2737582716b3666a5235d5af4ea\",\"https://i.scdn.co/image/ab67616d0000b273d98a6832141788d8c355852b\"],\"future_events\":[\"Z698xZu0ZaGQo\",\"Z698xZbpZ17GA_K\",\"G5vHZb1niHezV\",\"Event 4 id\"],\"image_url\":\"https://i.scdn.co/image/ab6761610000f178c3dc5429b676b16d451e5f77\",\"genre_id\":\"KnvZfZ7vAvv\"}]});const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const fetchData=useCallback(async page=>{try{const response=await axios.get(\"/GetArtists\",{params:{page,per_page:20}});const newArtists=response.data.map((newArtist,index)=>{const defaultArtist=artistsData.Artists[index]||{};return{...defaultArtist,...newArtist};});setArtistsData({Artists:newArtists});const responseLength=await axios.get(\"/GetAllArtists\");const totalArtists=responseLength.data.length;console.log(responseLength.data.length+\" Total artists listed \"+totalArtists);console.log(responseLength.data.length+\" Total artists listed \"+totalArtists);setTotalPages(Math.ceil(totalArtists/20));}catch(error){console.error(\"Error:\",error);}},[artistsData.Artists]);useEffect(()=>{fetchData(currentPage);},[]);const handlePageChange=newPage=>{setCurrentPage(newPage);fetchData(newPage);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{class:\" m-5 page-title\",children:\"Artists\"}),artistsData&&artistsData.Artists&&artistsData.Artists.length>0?/*#__PURE__*/_jsx(\"div\",{class:\"row g-5 m-5\",children:artistsData.Artists.map(artist=>/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3\",children:/*#__PURE__*/_jsx(ArtistsCard,{name:artist.name,id:artist.id,popularity:artist.popularity,genreId:artist.genre_id,albums:artist.albums,albumCovers:artist.album_covers,futureEvents:artist.future_events,image_url:artist.image_url})}))}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pagination  p-5\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"page-item\",disabled:currentPage===1,onClick:()=>handlePageChange(currentPage-1),children:\"Back\"}),Array.from({length:totalPages},(_,index)=>currentPage===index+1?/*#__PURE__*/_jsx(\"button\",{class:\" page-item text-bg-dark\",children:currentPage},index):/*#__PURE__*/_jsx(_Fragment,{})),/*#__PURE__*/_jsx(\"button\",{class:\"page-item\",disabled:currentPage===totalPages,onClick:()=>handlePageChange(currentPage+1),children:\"Next\"})]})})]});}export default Artists;","map":{"version":3,"names":["React","ArtistsCard","useState","useEffect","useCallback","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Artists","artistsData","setArtistsData","currentPage","setCurrentPage","totalPages","setTotalPages","fetchData","page","response","get","params","per_page","newArtists","data","map","newArtist","index","defaultArtist","responseLength","totalArtists","length","console","log","Math","ceil","error","handlePageChange","newPage","children","class","artist","className","name","id","popularity","genreId","genre_id","albums","albumCovers","album_covers","futureEvents","future_events","image_url","disabled","onClick","Array","from","_"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/Artists.js"],"sourcesContent":["import React from 'react';\nimport ArtistsCard from \"./ArtistsCard\";\nimport { useState, useEffect , useCallback} from 'react';\nimport axios from 'axios'\n\nfunction Artists() {\n\n    const [artistsData, setArtistsData] = useState({\n        \"Artists\": [\n            {\n                \"name\": \"Chidish Gambino\",\n                \"id\": \"73sIBHcqh3Z3NyqHKZ7FOL\",\n                \"popularity\": 79,\n                \"albums\": [\"Atavista\"],\n                \"album_covers\": [\"https://i.scdn.co/image/ab67616d0000b273a9afb2484111b87abc2b4a80\", \"https://i.scdn.co/image/ab67616d0000b2737582716b3666a5235d5af4ea\", \"https://i.scdn.co/image/ab67616d0000b273d98a6832141788d8c355852b\"],\n                \"future_events\": [\"Z698xZu0ZaGQo\", \"Z698xZbpZ17GA_K\", \"G5vHZb1niHezV\", \"Event 4 id\"],\n                \"image_url\": \"https://i.scdn.co/image/ab6761610000f178c3dc5429b676b16d451e5f77\",\n                \"genre_id\": \"KnvZfZ7vAvv\",\n            }\n        ]\n    });\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n\n    const fetchData = useCallback(async (page) => {\n        try {\n          const response = await axios.get(`/GetArtists`, {\n            params: { page, per_page: 20 }\n          });\n    \n          const newArtists = response.data.map((newArtist, index) => {\n            const defaultArtist = artistsData.Artists[index] || {};\n            return {\n              ...defaultArtist,\n              ...newArtist,\n            };\n          });\n          setArtistsData({ Artists: newArtists });\n    \n          const responseLength = await axios.get(`/GetAllArtists`);\n          const totalArtists = responseLength.data.length;\n          console.log(responseLength.data.length + \" Total artists listed \" + totalArtists)\n          console.log(responseLength.data.length + \" Total artists listed \" + totalArtists)\n          setTotalPages(Math.ceil(totalArtists / 20));\n    \n        } catch (error) {\n          console.error(\"Error:\", error);\n        }\n      }, [artistsData.Artists]);\n\n    useEffect(() => {\n        fetchData(currentPage);\n    }, []);\n\n    const handlePageChange = (newPage) => {\n        setCurrentPage(newPage);\n        fetchData(newPage)\n    };\n\n    return (\n        <>\n            <h1 class=\" m-5 page-title\">Artists</h1>\n        {\n          artistsData && artistsData.Artists && artistsData.Artists.length > 0 ? \n          (\n            <div class=\"row g-5 m-5\">\n              {artistsData.Artists.map((artist) => (\n                <div className=\"col-xl-3\">\n                  <ArtistsCard\n                    name={artist.name}\n                    id={artist.id}\n                    popularity={artist.popularity}\n                    genreId={artist.genre_id}\n                    albums={artist.albums}\n                    albumCovers={artist.album_covers}\n                    futureEvents={artist.future_events}\n                    image_url={artist.image_url}\n                  />\n                </div>\n              ))}\n            </div>\n          ) \n          : \n          (\n            <></>\n          )\n        }\n\n          \n\n            <div class=\"d-flex justify-content-center align-items-center\">\n                <div className=\"pagination  p-5\">\n                    <button class=\"page-item\" disabled={currentPage === 1} onClick={() => handlePageChange(currentPage - 1)}>Back</button>\n                    {Array.from({ length: totalPages }, (_, index) => (\n                        currentPage === index + 1 ?\n                            <button key={index} class=\" page-item text-bg-dark\" >{currentPage}</button>\n                            :\n                            <></>\n                    ))}\n                    <button class=\"page-item\" disabled={currentPage === totalPages} onClick={() => handlePageChange(currentPage + 1)}>Next</button>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Artists;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,QAAQ,CAAEC,SAAS,CAAGC,WAAW,KAAO,OAAO,CACxD,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,QAAS,CAAAC,OAAOA,CAAA,CAAG,CAEf,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,CAC3C,SAAS,CAAE,CACP,CACI,MAAM,CAAE,iBAAiB,CACzB,IAAI,CAAE,wBAAwB,CAC9B,YAAY,CAAE,EAAE,CAChB,QAAQ,CAAE,CAAC,UAAU,CAAC,CACtB,cAAc,CAAE,CAAC,kEAAkE,CAAE,kEAAkE,CAAE,kEAAkE,CAAC,CAC5N,eAAe,CAAE,CAAC,eAAe,CAAE,iBAAiB,CAAE,eAAe,CAAE,YAAY,CAAC,CACpF,WAAW,CAAE,kEAAkE,CAC/E,UAAU,CAAE,aAChB,CAAC,CAET,CAAC,CAAC,CAEF,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAE/C,KAAM,CAAAiB,SAAS,CAAGf,WAAW,CAAC,KAAO,CAAAgB,IAAI,EAAK,CAC1C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,eAAgB,CAC9CC,MAAM,CAAE,CAAEH,IAAI,CAAEI,QAAQ,CAAE,EAAG,CAC/B,CAAC,CAAC,CAEF,KAAM,CAAAC,UAAU,CAAGJ,QAAQ,CAACK,IAAI,CAACC,GAAG,CAAC,CAACC,SAAS,CAAEC,KAAK,GAAK,CACzD,KAAM,CAAAC,aAAa,CAAGjB,WAAW,CAACD,OAAO,CAACiB,KAAK,CAAC,EAAI,CAAC,CAAC,CACtD,MAAO,CACL,GAAGC,aAAa,CAChB,GAAGF,SACL,CAAC,CACH,CAAC,CAAC,CACFd,cAAc,CAAC,CAAEF,OAAO,CAAEa,UAAW,CAAC,CAAC,CAEvC,KAAM,CAAAM,cAAc,CAAG,KAAM,CAAA1B,KAAK,CAACiB,GAAG,iBAAiB,CAAC,CACxD,KAAM,CAAAU,YAAY,CAAGD,cAAc,CAACL,IAAI,CAACO,MAAM,CAC/CC,OAAO,CAACC,GAAG,CAACJ,cAAc,CAACL,IAAI,CAACO,MAAM,CAAG,wBAAwB,CAAGD,YAAY,CAAC,CACjFE,OAAO,CAACC,GAAG,CAACJ,cAAc,CAACL,IAAI,CAACO,MAAM,CAAG,wBAAwB,CAAGD,YAAY,CAAC,CACjFd,aAAa,CAACkB,IAAI,CAACC,IAAI,CAACL,YAAY,CAAG,EAAE,CAAC,CAAC,CAE7C,CAAE,MAAOM,KAAK,CAAE,CACdJ,OAAO,CAACI,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CACF,CAAC,CAAE,CAACzB,WAAW,CAACD,OAAO,CAAC,CAAC,CAE3BT,SAAS,CAAC,IAAM,CACZgB,SAAS,CAACJ,WAAW,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAwB,gBAAgB,CAAIC,OAAO,EAAK,CAClCxB,cAAc,CAACwB,OAAO,CAAC,CACvBrB,SAAS,CAACqB,OAAO,CAAC,CACtB,CAAC,CAED,mBACI7B,KAAA,CAAAF,SAAA,EAAAgC,QAAA,eACIlC,IAAA,OAAImC,KAAK,CAAC,iBAAiB,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,CAE1C5B,WAAW,EAAIA,WAAW,CAACD,OAAO,EAAIC,WAAW,CAACD,OAAO,CAACqB,MAAM,CAAG,CAAC,cAElE1B,IAAA,QAAKmC,KAAK,CAAC,aAAa,CAAAD,QAAA,CACrB5B,WAAW,CAACD,OAAO,CAACe,GAAG,CAAEgB,MAAM,eAC9BpC,IAAA,QAAKqC,SAAS,CAAC,UAAU,CAAAH,QAAA,cACvBlC,IAAA,CAACN,WAAW,EACV4C,IAAI,CAAEF,MAAM,CAACE,IAAK,CAClBC,EAAE,CAAEH,MAAM,CAACG,EAAG,CACdC,UAAU,CAAEJ,MAAM,CAACI,UAAW,CAC9BC,OAAO,CAAEL,MAAM,CAACM,QAAS,CACzBC,MAAM,CAAEP,MAAM,CAACO,MAAO,CACtBC,WAAW,CAAER,MAAM,CAACS,YAAa,CACjCC,YAAY,CAAEV,MAAM,CAACW,aAAc,CACnCC,SAAS,CAAEZ,MAAM,CAACY,SAAU,CAC7B,CAAC,CACC,CACN,CAAC,CACC,CAAC,cAINhD,IAAA,CAAAE,SAAA,GAAI,CACL,cAKCF,IAAA,QAAKmC,KAAK,CAAC,kDAAkD,CAAAD,QAAA,cACzD9B,KAAA,QAAKiC,SAAS,CAAC,iBAAiB,CAAAH,QAAA,eAC5BlC,IAAA,WAAQmC,KAAK,CAAC,WAAW,CAACc,QAAQ,CAAEzC,WAAW,GAAK,CAAE,CAAC0C,OAAO,CAAEA,CAAA,GAAMlB,gBAAgB,CAACxB,WAAW,CAAG,CAAC,CAAE,CAAA0B,QAAA,CAAC,MAAI,CAAQ,CAAC,CACrHiB,KAAK,CAACC,IAAI,CAAC,CAAE1B,MAAM,CAAEhB,UAAW,CAAC,CAAE,CAAC2C,CAAC,CAAE/B,KAAK,GACzCd,WAAW,GAAKc,KAAK,CAAG,CAAC,cACrBtB,IAAA,WAAoBmC,KAAK,CAAC,yBAAyB,CAAAD,QAAA,CAAG1B,WAAW,EAApDc,KAA6D,CAAC,cAE3EtB,IAAA,CAAAE,SAAA,GAAI,CACX,CAAC,cACFF,IAAA,WAAQmC,KAAK,CAAC,WAAW,CAACc,QAAQ,CAAEzC,WAAW,GAAKE,UAAW,CAACwC,OAAO,CAAEA,CAAA,GAAMlB,gBAAgB,CAACxB,WAAW,CAAG,CAAC,CAAE,CAAA0B,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC9H,CAAC,CACL,CAAC,EACR,CAAC,CAEX,CAEA,cAAe,CAAA7B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}