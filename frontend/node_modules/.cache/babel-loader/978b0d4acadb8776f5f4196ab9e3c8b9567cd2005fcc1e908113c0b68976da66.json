{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useEffect,useState}from\"react\";import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function GenreCard(props){const[eventIdPairs,setEventIdPairs]=useState({});useEffect(()=>{const fetchEventNames=async()=>{const eventNames=[\"defaultEventName 1\",\"defaultEventName 2\",\"defaultEventName 3\"];const limitedFutureEvents=[...props.upcomingEvents.slice(0,3)];while(limitedFutureEvents.length<3){limitedFutureEvents.push(\"\");}for(let i=0;i<3;i++){if(limitedFutureEvents[i]!==\"\"){try{const response=await axios.get(\"/GetEvent/\".concat(limitedFutureEvents[i]));eventNames[i]=response.data.event_name;}catch(error){console.error('Error:',error);}}}const eventIdPairs=Object.fromEntries(limitedFutureEvents.map((key,index)=>[key,eventNames[index]]));setEventIdPairs(eventIdPairs);};fetchEventNames();},[props.upcomingEvents]);const[popularArtists,setpopularArtists]=useState({});useEffect(()=>{const fetchArtistNames=async()=>{const artistsNames=[\"art 1\",\"art 2\",\"art 3\"];const topArtistsIds=[...props.popularArtists.slice(0,3)];while(topArtistsIds.length<3){topArtistsIds.push(\"\");}for(let i=0;i<3;i++){if(topArtistsIds[i]!==\"\"){try{const response=await axios.get(\"/GetArtist/\".concat(topArtistsIds[i]));artistsNames[i]=response.data.name;}catch(error){console.error('Error:',error);}}}const popularArtists=Object.fromEntries(topArtistsIds.map((key,index)=>[key,artistsNames[index]]));setpopularArtists(popularArtists);};fetchArtistNames();},[props.popularArtists]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"genre-card row text-start p-5 rounded-5\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"col-lg-12  \",children:/*#__PURE__*/_jsx(Link,{class:\"genre-card-title\",to:\"/genre/\".concat(props.genreId),children:props.name})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-4 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"genre-card-subtitle\",children:\"Top Songs\"}),props.topSongs.map((song,index)=>index<3?/*#__PURE__*/_jsx(\"span\",{class:\"genre-card-songs\",children:song},index):null)]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-4 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"genre-card-subtitle\",children:\"Popular Artists\"}),Object.entries(popularArtists).map((_ref,index)=>{let[key,value]=_ref;return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{to:\"/artists/artistspage/\".concat(key),class:\"genre-card-link\",children:value})},index);})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-lg-4 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"genre-card-subtitle\",children:\"Events\"}),Object.entries(eventIdPairs).map((_ref2,index)=>{let[key,value]=_ref2;return index<3?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{to:\"/venue/\".concat(key),class:\"genre-card-link\",children:value})},index):null;})]})]})});}export default GenreCard;","map":{"version":3,"names":["React","Link","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GenreCard","props","eventIdPairs","setEventIdPairs","fetchEventNames","eventNames","limitedFutureEvents","upcomingEvents","slice","length","push","i","response","get","concat","data","event_name","error","console","Object","fromEntries","map","key","index","popularArtists","setpopularArtists","fetchArtistNames","artistsNames","topArtistsIds","name","children","class","to","genreId","topSongs","song","entries","_ref","value","_ref2"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/GenreCard.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport axios from 'axios'\n\n\n\nfunction GenreCard(props) {\n\n    const [eventIdPairs, setEventIdPairs] = useState({});\n    useEffect(() => {\n        const fetchEventNames = async () => {\n            const eventNames = [\"defaultEventName 1\", \"defaultEventName 2\", \"defaultEventName 3\"];\n            const limitedFutureEvents = [...props.upcomingEvents.slice(0, 3)];\n\n            while (limitedFutureEvents.length < 3) {\n                limitedFutureEvents.push(\"\");\n            }\n\n            for (let i = 0; i < 3; i++) {\n                if (limitedFutureEvents[i] !== \"\") {\n                    try {\n                        const response = await axios.get(`/GetEvent/${limitedFutureEvents[i]}`);\n                        eventNames[i] = response.data.event_name;\n                    } catch (error) {\n                        console.error('Error:', error);\n                    }\n                }\n            }\n            const eventIdPairs = Object.fromEntries(\n                limitedFutureEvents.map((key, index) => [key, eventNames[index]])\n            )\n            setEventIdPairs(eventIdPairs);\n        }\n        fetchEventNames();\n    }, [props.upcomingEvents]);\n\n    const [popularArtists, setpopularArtists] = useState({});\n    useEffect(() => {\n        const fetchArtistNames = async () => {\n            const artistsNames = [\"art 1\", \"art 2\", \"art 3\"];\n            const topArtistsIds = [...props.popularArtists.slice(0, 3)];\n\n            while (topArtistsIds.length < 3) {\n                topArtistsIds.push(\"\");\n            }\n\n            for (let i = 0; i < 3; i++) {\n                if (topArtistsIds[i] !== \"\") {\n                    try {\n                        const response = await axios.get(`/GetArtist/${topArtistsIds[i]}`);\n                        artistsNames[i] = response.data.name;\n                    } catch (error) {\n                        console.error('Error:', error);\n                    }\n                }\n            }\n            const popularArtists = Object.fromEntries(\n                topArtistsIds.map((key, index) => [key, artistsNames[index]])\n            );\n            setpopularArtists(popularArtists);\n        }\n        fetchArtistNames();\n    }, [props.popularArtists]);\n\n    return (\n        <>\n            <div class=\"genre-card row text-start p-5 rounded-5\">\n                <h1 class=\"col-lg-12  \"><Link class=\"genre-card-title\" to={`/genre/${props.genreId}`}>{props.name}</Link></h1>\n                <div class=\"col-lg-4 d-flex flex-column\">\n                    <h1 class=\"genre-card-subtitle\">Top Songs</h1>\n                    {\n                        props.topSongs.map((song, index) => (\n                            index < 3 ?\n                                <span class=\"genre-card-songs\" key={index}>{song}</span>\n                                :\n                                null\n                        ))\n                    }\n                </div>\n\n                <div class=\"col-lg-4 d-flex flex-column\">\n                    <h1 class=\"genre-card-subtitle\" >Popular Artists</h1>\n                    {\n                        Object.entries(popularArtists).map(([key, value], index) => (\n                            <span key={index}><Link to={`/artists/artistspage/${key}`} class=\"genre-card-link\">{value}</Link></span>\n                        ))\n                    }\n                </div>\n\n                <div class=\"col-lg-4 d-flex flex-column\">\n                    <h1 class=\"genre-card-subtitle\">Events</h1>\n                    {\n                        Object.entries(eventIdPairs).map(([key, value], index) => (\n                            index < 3 ?\n                                <span key={index}><Link to={`/venue/${key}`} class=\"genre-card-link\">{value}</Link></span>\n                                :\n                                null\n                        ))\n                    }\n                </div >\n\n\n            </div >\n        </>\n\n    );\n}\n\nexport default GenreCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}