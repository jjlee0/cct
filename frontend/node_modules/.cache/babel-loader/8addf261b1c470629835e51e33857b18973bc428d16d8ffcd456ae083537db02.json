{"ast":null,"code":"import React from\"react\";import{useParams}from\"react-router-dom\";import{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';// useState initialization has default data\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ArtistsPage(){const{artistId}=useParams();const[artistData,setArtistData]=useState({\"name\":\"Childish Gambino\",\"id\":\"73sIBHcqh3Z3NyqHKZ7FOL\",\"popularity\":79,\"albums\":[\"Atavista\",\"\\\"Awaken, My Love!\\\"\",\"Kauai\"],\"album_covers\":[\"https://i.scdn.co/image/ab67616d0000b273a9afb2484111b87abc2b4a80\",\"https://i.scdn.co/image/ab67616d0000b2737582716b3666a5235d5af4ea\",\"https://i.scdn.co/image/ab67616d0000b273d98a6832141788d8c355852b\"],\"future_events\":[\"Z698xZu0ZaGQo\",\"Z698xZbpZ17GA_K\",\"G5vHZb1niHezV\",\"Event 4 id\"],\"image_url\":\"https://i.scdn.co/image/ab6761610000f178c3dc5429b676b16d451e5f77\",\"genre_id\":\"KnvZfZ7vAvv\"});const[genreName,setGenreName]=useState(\"defaultGenreName\");const[albumCoverPairs,setAlbumCoverPairs]=useState({});const[eventIdPairs,setEventIdPairs]=useState({});useEffect(()=>{const GetArtistInfo=async()=>{try{const response=await axios.get(\"https://www.cheapcheapticket.xyz/\".concat(artistId));setArtistData(response.data);}catch(error){console.error('Error ',error);}};GetArtistInfo();},[artistId]);useEffect(()=>{const GetGenreName=async()=>{try{const genreResponse=await axios.get(\"https://www.cheapcheapticket.xyz/GetGenre/\".concat(artistData.genre_id));setGenreName(genreResponse.data.name);}catch(error){console.error('Error ',error);}};if(artistData.albums&&artistData.album_covers){const albumCoverPairs=Object.fromEntries(artistData.albums.map((key,index)=>[key,artistData.album_covers[index]]));setAlbumCoverPairs(albumCoverPairs);}const getEventNames=async()=>{try{const eventPromises=artistData[\"future_events\"].map(async eventId=>{const response=await axios.get(\"https://www.cheapcheapticket.xyz/GetEvent/\".concat(eventId));return{eventId,eventName:response.data.event_name};});const eventNames=await Promise.all(eventPromises);const eventIdPairs=Object.fromEntries(eventNames.map(event=>[event.eventId,event.eventName]));setEventIdPairs(eventIdPairs);}catch(error){console.error('Error:',error);}};GetGenreName();getEventNames();},[artistData]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"artist-page m-5 g-5 text-start d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"artist-page-title\",children:artistData[\"name\"]}),/*#__PURE__*/_jsxs(\"h3\",{class:\"artist-page-text\",children:[\"Popularity: \",artistData[\"popularity\"],\" / 100\"]}),/*#__PURE__*/_jsx(\"h1\",{class:\"artist-page-text mb-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/genre/\".concat(artistData[\"genre_id\"]),class:\"artist-page-text\",children:genreName})}),/*#__PURE__*/_jsx(\"h1\",{class:\"artist-page-subtitle\",children:\"Albums\"}),/*#__PURE__*/_jsx(\"div\",{class:\"row artist-page-albums flex-wrap\",children:Object.entries(albumCoverPairs).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-white col-lg-4\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"artist-page-album\",src:value,alt:\"albumCover\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:key})})]},key);})}),/*#__PURE__*/_jsx(\"h1\",{class:\"artist-page-subtitle mb-4\",children:\"Events\"}),/*#__PURE__*/_jsx(\"div\",{class:\" d-flex flex-column \",children:Object.entries(eventIdPairs).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(Link,{to:\"/venue/\".concat(key),class:\"artist-page-smalltext  \",children:value})})});})})]})});}export default ArtistsPage;","map":{"version":3,"names":["React","useParams","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ArtistsPage","artistId","artistData","setArtistData","genreName","setGenreName","albumCoverPairs","setAlbumCoverPairs","eventIdPairs","setEventIdPairs","GetArtistInfo","response","get","concat","data","error","console","GetGenreName","genreResponse","genre_id","name","albums","album_covers","Object","fromEntries","map","key","index","getEventNames","eventPromises","eventId","eventName","event_name","eventNames","Promise","all","event","children","class","to","entries","_ref","value","className","src","alt","_ref2"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/ArtistsPage.js"],"sourcesContent":["import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios'\n\n\n// useState initialization has default data\n\nfunction ArtistsPage() {\n    const { artistId } = useParams();\n    const [artistData, setArtistData] = useState({\n        \"name\": \"Childish Gambino\",\n        \"id\": \"73sIBHcqh3Z3NyqHKZ7FOL\",\n        \"popularity\": 79,\n        \"albums\": [\"Atavista\", \"\\\"Awaken, My Love!\\\"\", \"Kauai\"],\n        \"album_covers\": [\"https://i.scdn.co/image/ab67616d0000b273a9afb2484111b87abc2b4a80\", \"https://i.scdn.co/image/ab67616d0000b2737582716b3666a5235d5af4ea\", \"https://i.scdn.co/image/ab67616d0000b273d98a6832141788d8c355852b\"],\n        \"future_events\": [\"Z698xZu0ZaGQo\", \"Z698xZbpZ17GA_K\", \"G5vHZb1niHezV\", \"Event 4 id\"],\n        \"image_url\": \"https://i.scdn.co/image/ab6761610000f178c3dc5429b676b16d451e5f77\",\n        \"genre_id\": \"KnvZfZ7vAvv\",\n    });\n\n    const [genreName, setGenreName] = useState(\"defaultGenreName\");\n    const [albumCoverPairs, setAlbumCoverPairs] = useState({});\n    const [eventIdPairs, setEventIdPairs] = useState({});\n\n    useEffect(() => {\n        const GetArtistInfo = async () => {\n            try {\n                const response = await axios.get(`https://www.cheapcheapticket.xyz/${artistId}`);\n                setArtistData(response.data);\n            } catch (error) {\n                console.error('Error ', error);\n            }\n        };\n        GetArtistInfo();\n    }, [artistId]);\n\n    useEffect(() => {\n        \n        const GetGenreName = async () => {\n            try {\n                const genreResponse = await axios.get(`https://www.cheapcheapticket.xyz/GetGenre/${artistData.genre_id}`);\n                setGenreName(genreResponse.data.name);\n            } catch (error) {\n                console.error('Error ', error);\n            }\n        };\n        \n        if (artistData.albums && artistData.album_covers) {\n            const albumCoverPairs = Object.fromEntries(\n                artistData.albums.map((key, index) => [key, artistData.album_covers[index]])\n            );\n            setAlbumCoverPairs(albumCoverPairs);\n        }\n\n        const getEventNames = async () => {\n            try {\n                const eventPromises = artistData[\"future_events\"].map(async (eventId) => {\n                    const response = await axios.get(`https://www.cheapcheapticket.xyz/GetEvent/${eventId}`);\n                    return { eventId, eventName: response.data.event_name };\n                });\n                const eventNames = await Promise.all(eventPromises);\n\n                const eventIdPairs = Object.fromEntries(\n                    eventNames.map(event => [event.eventId, event.eventName])\n                );\n                setEventIdPairs(eventIdPairs);\n            } catch (error) {\n                console.error('Error:', error);\n            }\n        };\n\n        GetGenreName();\n        getEventNames();\n\n    }, [artistData]);\n\n\n    \n    \n\n    return (\n        <>\n            <div class=\"artist-page m-5 g-5 text-start d-flex flex-column\">\n                <h1 class=\"artist-page-title\">{artistData[\"name\"]}</h1>\n                <h3 class=\"artist-page-text\">Popularity: {artistData[\"popularity\"]} / 100</h3>\n                <h1 class=\"artist-page-text mb-5\"><Link to={`/genre/${artistData[\"genre_id\"]}`} class=\"artist-page-text\">{genreName}</Link></h1>\n                <h1 class=\"artist-page-subtitle\" >Albums</h1>\n                <div class=\"row artist-page-albums flex-wrap\">\n                    {\n                        Object.entries(albumCoverPairs).map(([key, value]) => (\n                            <div className=\"text-white col-lg-4\" key={key}>\n                                <img className=\"artist-page-album\" src={value} alt=\"albumCover\" />\n                                <p><b>{key}</b></p>\n                            </div>\n                        ))\n                    }\n                </div>\n                <h1 class=\"artist-page-subtitle mb-4\">Events</h1>\n                <div class=\" d-flex flex-column \">\n                    {\n                        Object.entries(eventIdPairs).map(([key, value]) => (\n                            <p><b><Link to={`/venue/${key}`} class=\"artist-page-smalltext  \">{value}</Link></b></p>\n                        ))\n                    }\n                </div>\n            </div >\n        </>\n    );\n}\n\nexport default ArtistsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}