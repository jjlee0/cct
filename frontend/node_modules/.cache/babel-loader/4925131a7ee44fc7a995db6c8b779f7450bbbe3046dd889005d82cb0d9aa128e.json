{"ast":null,"code":"import React from\"react\";import{Link}from'react-router-dom';import{useEffect,useState}from\"react\";import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ArtistsCard(props){const[genreName,setGenreName]=useState(\"defaultGenreName\");useEffect(()=>{const getGenreName=async()=>{try{const response=await axios.get(\"https://www.cheapcheapticket.xyz/GetGenre/\".concat(props.genreId));setGenreName(response.data.name);}catch(error){console.error('Error:',error);}};getGenreName();},[props.genreId]);const[eventIdPairs,setEventIdPairs]=useState({});useEffect(()=>{const fetchEventNames=async()=>{const eventNames=[\"defaultEventName 1\",\"defaultEventName 2\",\"defaultEventName 3\"];const limitedFutureEvents=props.futureEvents.slice(0,3);while(limitedFutureEvents.length<3){limitedFutureEvents.push(\"\");}for(let i=0;i<3;i++){if(limitedFutureEvents[i]!==\"\"){try{const response=await axios.get(\"https://www.cheapcheapticket.xyz/GetEvent/\".concat(limitedFutureEvents[i]));eventNames[i]=response.data.event_name;}catch(error){console.error('Error:',error);}}}const eventIdPairs=Object.fromEntries(limitedFutureEvents.map((key,index)=>[key,eventNames[index]]));setEventIdPairs(eventIdPairs);};fetchEventNames();},[props.futureEvents]);return/*#__PURE__*/_jsxs(\"div\",{class:\"card  artist-card p-2 border-0\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-center mt-3\",children:/*#__PURE__*/_jsx(\"img\",{class:\"card-img-top circle-image\",src:props.image_url,alt:\"artistsPic\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body text-start d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"artist-card-container mb-4\",children:props.name.length<8?/*#__PURE__*/_jsx(Link,{class:\"artist-card-title\",className:\"artist-card-headers artist-card-link\",to:\"/artists/artistspage/\".concat(props.id),children:props.name}):props.name.length<12?/*#__PURE__*/_jsx(Link,{class:\"artist-card-title2\",className:\"artist-card-headers artist-card-link\",to:\"/artists/artistspage/\".concat(props.id),children:props.name}):/*#__PURE__*/_jsx(Link,{class:\"artist-card-title3\",className:\"artist-card-headers artist-card-link\",to:\"/artists/artistspage/\".concat(props.id),children:props.name})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"h1\",{class:\"artist-card-text\",children:/*#__PURE__*/_jsxs(Link,{class:\"artist-card-link artist-card-genre\",to:\"/genre/\".concat(props.genreId),children:[\"Genre: \",genreName]})})}),props.albums.length===0?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"h1\",{class:\"artist-card-text\",children:\"\\xA0\"})}):props.albums.length<8?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"h1\",{class:\"artist-card-text\",children:[\"Latest Album : \",props.albums[0]]})}):/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"h1\",{class:\"artist-card-text\",children:[\"Latest Album : \",props.albums[0].substring(7)+\"...\"]})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"h1\",{class:\"artist-card-text\",children:[\"Popularity: \",props.popularity]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body text-start d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"artist-card-subtitle\",className:\"artist-card-headers\",children:\"Events\"}),Object.entries(eventIdPairs).map((_ref,index)=>{var _props$futureEvents$;let[key,value]=_ref;return key!==\"\"?((_props$futureEvents$=props.futureEvents[0])===null||_props$futureEvents$===void 0?void 0:_props$futureEvents$.length)<15?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:\"artist-card-link artist-card-text\",to:\"/venue/\".concat(key),children:value})},index):/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:\"artist-card-link artist-card-text\",to:\"/venue/\".concat(key),children:value.substring(0,15)+\"...\"})},index):/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:\"artist-card-link artist-card-text\",children:\"\\xA0\"})},index);})]})]});}export default ArtistsCard;","map":{"version":3,"names":["React","Link","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","ArtistsCard","props","genreName","setGenreName","getGenreName","response","get","concat","genreId","data","name","error","console","eventIdPairs","setEventIdPairs","fetchEventNames","eventNames","limitedFutureEvents","futureEvents","slice","length","push","i","event_name","Object","fromEntries","map","key","index","class","children","src","image_url","alt","className","to","id","albums","substring","popularity","entries","_ref","_props$futureEvents$","value"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/ArtistsCard.js"],"sourcesContent":["import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport axios from 'axios'\n\n\nfunction ArtistsCard(props) {\n\n    const [genreName, setGenreName] = useState(\"defaultGenreName\");\n\n    useEffect(() => {\n        const getGenreName = async () => {\n            try {\n                const response = await axios.get(`https://www.cheapcheapticket.xyz/GetGenre/${props.genreId}`);\n                setGenreName(response.data.name);\n            } catch (error) {\n                console.error('Error:', error);\n            }\n        }\n        getGenreName()\n    }, [props.genreId])\n\n    const [eventIdPairs, setEventIdPairs] = useState({});\n\n    useEffect(() => {\n        const fetchEventNames = async () => {\n            const eventNames = [\"defaultEventName 1\", \"defaultEventName 2\", \"defaultEventName 3\"];\n            const limitedFutureEvents = props.futureEvents.slice(0, 3);\n\n            while (limitedFutureEvents.length < 3) {\n                limitedFutureEvents.push(\"\");\n            }\n            for (let i = 0; i < 3; i++) {\n                if (limitedFutureEvents[i] !== \"\") {\n                    try {\n                        const response = await axios.get(`https://www.cheapcheapticket.xyz/GetEvent/${limitedFutureEvents[i]}`);\n                        eventNames[i] = response.data.event_name;\n                    } catch (error) {\n                        console.error('Error:', error);\n                    }\n                }\n            }\n\n            const eventIdPairs = Object.fromEntries(\n                limitedFutureEvents.map((key, index) => [key, eventNames[index]])\n            );\n            setEventIdPairs(eventIdPairs);\n        };\n        fetchEventNames();\n    }, [props.futureEvents]);\n\n    return (\n        <div class=\"card  artist-card p-2 border-0\">\n\n            <div class=\"d-flex justify-content-center mt-3\">\n                <img class=\"card-img-top circle-image\" src={props.image_url} alt=\"artistsPic\" />\n            </div>\n\n            <div class=\"card-body text-start d-flex flex-column\">\n                <div class=\"artist-card-container mb-4\">\n                    {\n                        props.name.length < 8 ?\n                            <Link class=\"artist-card-title\" className=\"artist-card-headers artist-card-link\" to={`/artists/artistspage/${props.id}`}>{props.name}</Link>\n                            :\n                            props.name.length < 12 ?\n                                <Link class=\"artist-card-title2\" className=\"artist-card-headers artist-card-link\" to={`/artists/artistspage/${props.id}`}>{props.name}</Link>\n                                :\n                                <Link class=\"artist-card-title3\" className=\"artist-card-headers artist-card-link\" to={`/artists/artistspage/${props.id}`}>{props.name}</Link>\n                    }\n                </div>\n                <span><h1 class=\"artist-card-text\"><Link class=\"artist-card-link artist-card-genre\" to={`/genre/${props.genreId}`}>Genre: {genreName}</Link></h1></span>\n                {\n                    props.albums.length === 0 ?\n                        <span><h1 class=\"artist-card-text\">&nbsp;</h1></span>\n                        :\n                        props.albums.length < 8 ?\n                        <span><h1 class=\"artist-card-text\">Latest Album : {props.albums[0]}</h1></span>\n                        :\n                        <span><h1 class=\"artist-card-text\">Latest Album : {props.albums[0].substring(7) + \"...\"}</h1></span>\n                }\n                <span><h1 class=\"artist-card-text\">Popularity: {props.popularity}</h1></span>\n            </div>\n\n            <div class=\"card-body text-start d-flex flex-column\">\n                <h1 class=\"artist-card-subtitle\" className=\"artist-card-headers\">Events</h1>\n                {\n                    Object.entries(eventIdPairs).map(([key, value], index) => (\n                        key !== \"\" ?\n                            props.futureEvents[0]?.length < 15 ?\n                               <span key={index}><Link className=\"artist-card-link artist-card-text\" to={`/venue/${key}`}>{value}</Link></span>\n                                :\n                               <span key={index}><Link className=\"artist-card-link artist-card-text\" to={`/venue/${key}`}>{value.substring(0, 15) + \"...\"}</Link></span>\n                            :\n                            <span key={index}><Link className=\"artist-card-link artist-card-text\">&nbsp;</Link></span>\n                    ))\n                }\n            </div>\n\n        </div>\n    );\n}\n\nexport default ArtistsCard;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}