{"ast":null,"code":"import React,{useState,useEffect}from'react';import VenueCard from'./VenueCard';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Venue(){const[eventData,setEventData]=useState({\"events\":[{\"id\":\"Z698xZu0ZaGQo\",\"event_name\":\"Childish Gambino\",\"artist_names\":[\"Childish Gambino\"],\"dateAndTime\":[2024,11,12],\"sales_start_end\":\"2024-05-17T08:00:00Z to 2024-11-12T22:59:00Z\",\"price_range\":[1490.0,4242.0],\"genre_id\":\"KnvZfZ7vAvv\",\"venue\":{\"name\":\"O2 Arena\",\"address\":\"\\u010ceskomoravsk\\u00e1 2345/17a, Praha 9\",\"phoneNumber\":\"020 8463 2000\",\"rating\":\"4.5 / 5\",\"website\":\"https://www.theo2.co.uk/\"},\"ticketmaster_URL\":\"https://www.ticketmaster.cz/event/childish-gambino-tickets/50833?language=en-us\"}]});const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const fetchData=async page=>{try{// const response = await axios.get(`https://www.cheapcheapticket.xyz/GetEvents`, {\nconst response=await axios.get(\"https://www.cheapcheapticket.xyz/GetEvents\",{params:{page,per_page:30}});const responseLength=await axios.get(\"https://www.cheapcheapticket.xyz/GetAllEvents\");const newEvents=response.data.map((newEvent,index)=>{const defaultEvent=eventData.events[index]||{id:\"\",event_name:\"\",artist_names:[],dateAndTime:[],sales_start_end:\"\",price_range:[],genre_id:\"\",venue:{name:\"\",address:\"\",phoneNumber:\"\",rating:\"\",website:\"\"},ticketmaster_URL:\"\"};return{...defaultEvent,...newEvent,venue:{...defaultEvent.venue,...newEvent.venue}};});setEventData({events:newEvents});const totalEvents=responseLength.data.length;setTotalPages(Math.ceil(totalEvents/30));}catch(error){console.error(\"Error:\",error);}};useEffect(()=>{fetchData(currentPage);},[currentPage]);const handlePageChange=newPage=>{if(newPage>0&&newPage<=totalPages){setCurrentPage(newPage);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{class:\"page-title\",children:\"Events\"}),/*#__PURE__*/_jsx(\"p\",{class:\"page-title\",children:\"Events all across the US! \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-4 m-5\",children:eventData.events.map((event,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsx(VenueCard,{eventId:event.id,eventName:event.event_name,artistNames:event.artist_names,dateAndTime:event.dateAndTime,salesStartEnd:event.sales_start_end,priceRange:event.price_range,genreId:event.genre_id,venue:event.venue,ticketmasterURL:event.ticketmaster_URL})},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pagination p-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"page-item\",disabled:currentPage===1,onClick:()=>handlePageChange(currentPage-1),children:\"Back\"}),Array.from({length:totalPages},(_,index)=>currentPage===index+1?/*#__PURE__*/_jsx(\"button\",{class:\" page-item text-bg-dark\",children:currentPage}):/*#__PURE__*/_jsx(_Fragment,{})),/*#__PURE__*/_jsx(\"button\",{className:\"page-item\",disabled:currentPage===totalPages,onClick:()=>handlePageChange(currentPage+1),children:\"Next\"})]})})]});}export default Venue;","map":{"version":3,"names":["React","useState","useEffect","VenueCard","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Venue","eventData","setEventData","currentPage","setCurrentPage","totalPages","setTotalPages","fetchData","page","response","get","params","per_page","responseLength","newEvents","data","map","newEvent","index","defaultEvent","events","id","event_name","artist_names","dateAndTime","sales_start_end","price_range","genre_id","venue","name","address","phoneNumber","rating","website","ticketmaster_URL","totalEvents","length","Math","ceil","error","console","handlePageChange","newPage","children","class","className","event","eventId","eventName","artistNames","salesStartEnd","priceRange","genreId","ticketmasterURL","disabled","onClick","Array","from","_"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/Venue.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport VenueCard from './VenueCard';\nimport axios from 'axios';\n\nfunction Venue() {\n\n  const [eventData, setEventData] = useState({\n    \"events\": [\n      {\n        \"id\": \"Z698xZu0ZaGQo\",\n        \"event_name\": \"Childish Gambino\",\n        \"artist_names\": [\"Childish Gambino\"],\n        \"dateAndTime\": [2024, 11, 12],\n        \"sales_start_end\": \"2024-05-17T08:00:00Z to 2024-11-12T22:59:00Z\",\n        \"price_range\": [1490.0, 4242.0],\n        \"genre_id\": \"KnvZfZ7vAvv\",\n        \"venue\": { \"name\": \"O2 Arena\", \"address\": \"\\u010ceskomoravsk\\u00e1 2345/17a, Praha 9\", \"phoneNumber\": \"020 8463 2000\", \"rating\": \"4.5 / 5\", \"website\": \"https://www.theo2.co.uk/\" },\n        \"ticketmaster_URL\": \"https://www.ticketmaster.cz/event/childish-gambino-tickets/50833?language=en-us\"\n      }\n    ]\n  });\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  const fetchData = async (page) => {\n    try {\n      // const response = await axios.get(`https://www.cheapcheapticket.xyz/GetEvents`, {\n        const response = await axios.get(`https://www.cheapcheapticket.xyz/GetEvents`, {\n        params: { page, per_page: 30 }\n      });\n      \n      const responseLength = await axios.get(`https://www.cheapcheapticket.xyz/GetAllEvents`);\n\n      const newEvents = response.data.map((newEvent, index) => {\n        const defaultEvent = eventData.events[index] || {\n          id: \"\",\n          event_name: \"\",\n          artist_names: [],\n          dateAndTime: [],\n          sales_start_end: \"\",\n          price_range: [],\n          genre_id: \"\",\n          venue: {\n            name: \"\",\n            address: \"\",\n            phoneNumber: \"\",\n            rating: \"\",\n            website: \"\"\n          },\n          ticketmaster_URL: \"\"\n        };\n        return {\n          ...defaultEvent,\n          ...newEvent,\n          venue: {\n            ...defaultEvent.venue,\n            ...newEvent.venue\n          }\n        };\n      });\n      setEventData({ events: newEvents });\n      const totalEvents = responseLength.data.length;\n      setTotalPages(Math.ceil(totalEvents / 30));\n      \n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  }\n\n  useEffect(() => {\n    fetchData(currentPage);\n  }, [currentPage]); \n\n  const handlePageChange = (newPage) => {\n    if (newPage > 0 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <h2 class=\"page-title\">Events</h2>\n        <p class=\"page-title\">Events all across the US! </p>\n      </div>\n      <div className=\"row g-4 m-5\">\n        {\n          eventData.events.map((event, index) => (\n            <div className=\"col-lg-4\" key={index}>\n              <VenueCard\n                eventId={event.id}\n                eventName={event.event_name}\n                artistNames={event.artist_names}\n                dateAndTime={event.dateAndTime}\n                salesStartEnd={event.sales_start_end}\n                priceRange={event.price_range}\n                genreId={event.genre_id}\n                venue={event.venue}\n                ticketmasterURL={event.ticketmaster_URL}\n              />\n            </div>\n          ))\n        }\n      </div>\n\n      <div className=\"d-flex justify-content-center align-items-center\">\n        <div className=\"pagination p-5\">\n          <button className=\"page-item\" disabled={currentPage === 1} onClick={() => handlePageChange(currentPage - 1)}>Back</button>\n          {Array.from({ length: totalPages }, (_, index) => (\n            currentPage === index + 1 ?\n              <button class=\" page-item text-bg-dark\" >{currentPage}</button>\n              :\n              <></>\n          ))}\n          <button className=\"page-item\" disabled={currentPage === totalPages} onClick={() => handlePageChange(currentPage + 1)}>Next</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Venue;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}