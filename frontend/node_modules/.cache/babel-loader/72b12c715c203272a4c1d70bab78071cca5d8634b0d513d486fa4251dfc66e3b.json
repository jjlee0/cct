{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ArtistsCard(props){const[genreName,setGenreName]=useState(\"defaultGenreName\");const[eventIdPairs,setEventIdPairs]=useState({});useEffect(()=>{const getGenreName=async()=>{try{const response=await axios.get(\"/GetGenre/\".concat(props.genreId));setGenreName(response.data.name);}catch(error){console.error('Error fetching genre name:',error);}};getGenreName();},[props.genreId]);useEffect(()=>{const fetchEventNames=async()=>{const eventNames=[\"defaultEventName 1\",\"defaultEventName 2\",\"defaultEventName 3\"];const limitedFutureEvents=[...props.futureEvents].slice(0,3);while(limitedFutureEvents.length<3){limitedFutureEvents.push(\"\");}for(let i=0;i<3;i++){if(limitedFutureEvents[i]!==\"\"){try{const response=await axios.get(\"/GetEvent/\".concat(limitedFutureEvents[i]));eventNames[i]=response.data.event_name;}catch(error){console.error('Error fetching event name:',error);}}}const eventIdPairs=Object.fromEntries(limitedFutureEvents.map((key,index)=>[key,eventNames[index]]));setEventIdPairs(eventIdPairs);};fetchEventNames();},[props.futureEvents]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card artist-card p-2 border-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-3\",children:/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top circle-image\",src:props.image_url,alt:\"artistsPic\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-start d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"artist-card-container mb-4\",children:props.name.length<8?/*#__PURE__*/_jsx(Link,{className:\"artist-card-title artist-card-headers artist-card-link\",to:\"/artists/artistspage/\".concat(props.id),children:props.name}):props.name.length<12?/*#__PURE__*/_jsx(Link,{className:\"artist-card-title2 artist-card-headers artist-card-link\",to:\"/artists/artistspage/\".concat(props.id),children:props.name}):/*#__PURE__*/_jsx(Link,{className:\"artist-card-title3 artist-card-headers artist-card-link\",to:\"/artists/artistspage/\".concat(props.id),children:props.name})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"artist-card-text\",children:/*#__PURE__*/_jsxs(Link,{className:\"artist-card-link artist-card-genre\",to:\"/genre/\".concat(props.genreId),children:[\"Genre: \",genreName]})})}),props.albums.length===0?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"artist-card-text\",children:\"\\xA0\"})}):props.albums[0].length<8?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"artist-card-text\",children:[\"Latest Album : \",props.albums[0]]})}):/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"artist-card-text\",children:[\"Latest Album : \",props.albums[0].substring(0,7)+\"...\"]})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"artist-card-text\",children:[\"Popularity: \",props.popularity]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-start d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"artist-card-subtitle artist-card-headers\",children:\"Events\"}),Object.entries(eventIdPairs).map((_ref,index)=>{var _props$futureEvents$;let[key,value]=_ref;return key!==\"\"?((_props$futureEvents$=props.futureEvents[0])===null||_props$futureEvents$===void 0?void 0:_props$futureEvents$.length)<15?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:\"artist-card-link artist-card-text\",to:\"/venue/\".concat(key),children:value})},index):/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:\"artist-card-link artist-card-text\",to:\"/venue/\".concat(key),children:value.substring(0,15)+\"...\"})},index):/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:\"artist-card-link artist-card-text\",children:\"\\xA0\"})},index);})]})]});}export default ArtistsCard;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","ArtistsCard","props","genreName","setGenreName","eventIdPairs","setEventIdPairs","getGenreName","response","get","concat","genreId","data","name","error","console","fetchEventNames","eventNames","limitedFutureEvents","futureEvents","slice","length","push","i","event_name","Object","fromEntries","map","key","index","className","children","src","image_url","alt","to","id","albums","substring","popularity","entries","_ref","_props$futureEvents$","value"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/ArtistsCard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction ArtistsCard(props) {\n    const [genreName, setGenreName] = useState(\"defaultGenreName\");\n    const [eventIdPairs, setEventIdPairs] = useState({});\n\n    useEffect(() => {\n        const getGenreName = async () => {\n            try {\n                const response = await axios.get(`/GetGenre/${props.genreId}`);\n                setGenreName(response.data.name);\n            } catch (error) {\n                console.error('Error fetching genre name:', error);\n            }\n        };\n        getGenreName();\n    }, [props.genreId]);\n\n    useEffect(() => {\n        const fetchEventNames = async () => {\n            const eventNames = [\"defaultEventName 1\", \"defaultEventName 2\", \"defaultEventName 3\"];\n            const limitedFutureEvents = [...props.futureEvents].slice(0, 3);\n\n            while (limitedFutureEvents.length < 3) {\n                limitedFutureEvents.push(\"\");\n            }\n\n            for (let i = 0; i < 3; i++) {\n                if (limitedFutureEvents[i] !== \"\") {\n                    try {\n                        const response = await axios.get(`/GetEvent/${limitedFutureEvents[i]}`);\n                        eventNames[i] = response.data.event_name;\n                    } catch (error) {\n                        console.error('Error fetching event name:', error);\n                    }\n                }\n            }\n\n            const eventIdPairs = Object.fromEntries(\n                limitedFutureEvents.map((key, index) => [key, eventNames[index]])\n            );\n            setEventIdPairs(eventIdPairs);\n        };\n        fetchEventNames();\n    }, [props.futureEvents]);\n\n    return (\n        <div className=\"card artist-card p-2 border-0\">\n            <div className=\"d-flex justify-content-center mt-3\">\n                <img className=\"card-img-top circle-image\" src={props.image_url} alt=\"artistsPic\" />\n            </div>\n\n            <div className=\"card-body text-start d-flex flex-column\">\n                <div className=\"artist-card-container mb-4\">\n                    {\n                        props.name.length < 8 ?\n                            <Link className=\"artist-card-title artist-card-headers artist-card-link\" to={`/artists/artistspage/${props.id}`}>{props.name}</Link>\n                            :\n                            props.name.length < 12 ?\n                                <Link className=\"artist-card-title2 artist-card-headers artist-card-link\" to={`/artists/artistspage/${props.id}`}>{props.name}</Link>\n                                :\n                                <Link className=\"artist-card-title3 artist-card-headers artist-card-link\" to={`/artists/artistspage/${props.id}`}>{props.name}</Link>\n                    }\n                </div>\n                <span><h1 className=\"artist-card-text\"><Link className=\"artist-card-link artist-card-genre\" to={`/genre/${props.genreId}`}>Genre: {genreName}</Link></h1></span>\n                {\n                    props.albums.length === 0 ?\n                        <span><h1 className=\"artist-card-text\">&nbsp;</h1></span>\n                        :\n                        props.albums[0].length < 8 ?\n                            <span><h1 className=\"artist-card-text\">Latest Album : {props.albums[0]}</h1></span>\n                            :\n                            <span><h1 className=\"artist-card-text\">Latest Album : {props.albums[0].substring(0, 7) + \"...\"}</h1></span>\n                }\n                <span><h1 className=\"artist-card-text\">Popularity: {props.popularity}</h1></span>\n            </div>\n\n            <div className=\"card-body text-start d-flex flex-column\">\n                <h1 className=\"artist-card-subtitle artist-card-headers\">Events</h1>\n                {\n                    Object.entries(eventIdPairs).map(([key, value], index) => (\n                        key !== \"\" ?\n                            (props.futureEvents[0]?.length < 15 ?\n                                <span key={index}><Link className=\"artist-card-link artist-card-text\" to={`/venue/${key}`}>{value}</Link></span>\n                                :\n                                <span key={index}><Link className=\"artist-card-link artist-card-text\" to={`/venue/${key}`}>{value.substring(0, 15) + \"...\"}</Link></span>)\n                            :\n                            <span key={index}><Link className=\"artist-card-link artist-card-text\">&nbsp;</Link></span>\n                    ))\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default ArtistsCard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAE,CACxB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,kBAAkB,CAAC,CAC9D,KAAM,CAACW,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEpDD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAc,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,cAAAC,MAAA,CAAcR,KAAK,CAACS,OAAO,CAAE,CAAC,CAC9DP,YAAY,CAACI,QAAQ,CAACI,IAAI,CAACC,IAAI,CAAC,CACpC,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACtD,CACJ,CAAC,CACDP,YAAY,CAAC,CAAC,CAClB,CAAC,CAAE,CAACL,KAAK,CAACS,OAAO,CAAC,CAAC,CAEnBlB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAuB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAChC,KAAM,CAAAC,UAAU,CAAG,CAAC,oBAAoB,CAAE,oBAAoB,CAAE,oBAAoB,CAAC,CACrF,KAAM,CAAAC,mBAAmB,CAAG,CAAC,GAAGhB,KAAK,CAACiB,YAAY,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAE/D,MAAOF,mBAAmB,CAACG,MAAM,CAAG,CAAC,CAAE,CACnCH,mBAAmB,CAACI,IAAI,CAAC,EAAE,CAAC,CAChC,CAEA,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAE,CAAE,CACxB,GAAIL,mBAAmB,CAACK,CAAC,CAAC,GAAK,EAAE,CAAE,CAC/B,GAAI,CACA,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,cAAAC,MAAA,CAAcQ,mBAAmB,CAACK,CAAC,CAAC,CAAE,CAAC,CACvEN,UAAU,CAACM,CAAC,CAAC,CAAGf,QAAQ,CAACI,IAAI,CAACY,UAAU,CAC5C,CAAE,MAAOV,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACtD,CACJ,CACJ,CAEA,KAAM,CAAAT,YAAY,CAAGoB,MAAM,CAACC,WAAW,CACnCR,mBAAmB,CAACS,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,GAAK,CAACD,GAAG,CAAEX,UAAU,CAACY,KAAK,CAAC,CAAC,CACpE,CAAC,CACDvB,eAAe,CAACD,YAAY,CAAC,CACjC,CAAC,CACDW,eAAe,CAAC,CAAC,CACrB,CAAC,CAAE,CAACd,KAAK,CAACiB,YAAY,CAAC,CAAC,CAExB,mBACInB,KAAA,QAAK8B,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC1CjC,IAAA,QAAKgC,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cAC/CjC,IAAA,QAAKgC,SAAS,CAAC,2BAA2B,CAACE,GAAG,CAAE9B,KAAK,CAAC+B,SAAU,CAACC,GAAG,CAAC,YAAY,CAAE,CAAC,CACnF,CAAC,cAENlC,KAAA,QAAK8B,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eACpDjC,IAAA,QAAKgC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAEnC7B,KAAK,CAACW,IAAI,CAACQ,MAAM,CAAG,CAAC,cACjBvB,IAAA,CAACH,IAAI,EAACmC,SAAS,CAAC,wDAAwD,CAACK,EAAE,yBAAAzB,MAAA,CAA0BR,KAAK,CAACkC,EAAE,CAAG,CAAAL,QAAA,CAAE7B,KAAK,CAACW,IAAI,CAAO,CAAC,CAEpIX,KAAK,CAACW,IAAI,CAACQ,MAAM,CAAG,EAAE,cAClBvB,IAAA,CAACH,IAAI,EAACmC,SAAS,CAAC,yDAAyD,CAACK,EAAE,yBAAAzB,MAAA,CAA0BR,KAAK,CAACkC,EAAE,CAAG,CAAAL,QAAA,CAAE7B,KAAK,CAACW,IAAI,CAAO,CAAC,cAErIf,IAAA,CAACH,IAAI,EAACmC,SAAS,CAAC,yDAAyD,CAACK,EAAE,yBAAAzB,MAAA,CAA0BR,KAAK,CAACkC,EAAE,CAAG,CAAAL,QAAA,CAAE7B,KAAK,CAACW,IAAI,CAAO,CAAC,CAEhJ,CAAC,cACNf,IAAA,SAAAiC,QAAA,cAAMjC,IAAA,OAAIgC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAAC/B,KAAA,CAACL,IAAI,EAACmC,SAAS,CAAC,oCAAoC,CAACK,EAAE,WAAAzB,MAAA,CAAYR,KAAK,CAACS,OAAO,CAAG,CAAAoB,QAAA,EAAC,SAAO,CAAC5B,SAAS,EAAO,CAAC,CAAI,CAAC,CAAM,CAAC,CAE5JD,KAAK,CAACmC,MAAM,CAAChB,MAAM,GAAK,CAAC,cACrBvB,IAAA,SAAAiC,QAAA,cAAMjC,IAAA,OAAIgC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,MAAM,CAAI,CAAC,CAAM,CAAC,CAEzD7B,KAAK,CAACmC,MAAM,CAAC,CAAC,CAAC,CAAChB,MAAM,CAAG,CAAC,cACtBvB,IAAA,SAAAiC,QAAA,cAAM/B,KAAA,OAAI8B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,iBAAe,CAAC7B,KAAK,CAACmC,MAAM,CAAC,CAAC,CAAC,EAAK,CAAC,CAAM,CAAC,cAEnFvC,IAAA,SAAAiC,QAAA,cAAM/B,KAAA,OAAI8B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,iBAAe,CAAC7B,KAAK,CAACmC,MAAM,CAAC,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAAG,KAAK,EAAK,CAAC,CAAM,CAAC,cAEvHxC,IAAA,SAAAiC,QAAA,cAAM/B,KAAA,OAAI8B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAAC,cAAY,CAAC7B,KAAK,CAACqC,UAAU,EAAK,CAAC,CAAM,CAAC,EAChF,CAAC,cAENvC,KAAA,QAAK8B,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eACpDjC,IAAA,OAAIgC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,CAEhEN,MAAM,CAACe,OAAO,CAACnC,YAAY,CAAC,CAACsB,GAAG,CAAC,CAAAc,IAAA,CAAeZ,KAAK,QAAAa,oBAAA,IAAnB,CAACd,GAAG,CAAEe,KAAK,CAAC,CAAAF,IAAA,OAC1C,CAAAb,GAAG,GAAK,EAAE,CACL,EAAAc,oBAAA,CAAAxC,KAAK,CAACiB,YAAY,CAAC,CAAC,CAAC,UAAAuB,oBAAA,iBAArBA,oBAAA,CAAuBrB,MAAM,EAAG,EAAE,cAC/BvB,IAAA,SAAAiC,QAAA,cAAkBjC,IAAA,CAACH,IAAI,EAACmC,SAAS,CAAC,mCAAmC,CAACK,EAAE,WAAAzB,MAAA,CAAYkB,GAAG,CAAG,CAAAG,QAAA,CAAEY,KAAK,CAAO,CAAC,EAA9Fd,KAAoG,CAAC,cAEhH/B,IAAA,SAAAiC,QAAA,cAAkBjC,IAAA,CAACH,IAAI,EAACmC,SAAS,CAAC,mCAAmC,CAACK,EAAE,WAAAzB,MAAA,CAAYkB,GAAG,CAAG,CAAAG,QAAA,CAAEY,KAAK,CAACL,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAAG,KAAK,CAAO,CAAC,EAAvHT,KAA6H,CAAC,cAE7I/B,IAAA,SAAAiC,QAAA,cAAkBjC,IAAA,CAACH,IAAI,EAACmC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,MAAM,CAAM,CAAC,EAAxEF,KAA8E,CAAC,EACjG,CAAC,EAEL,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAA5B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}