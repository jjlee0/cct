{"ast":null,"code":"var _jsxFileName = \"/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/Artists.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport ArtistsCard from \"./ArtistsCard\";\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Artists() {\n  _s();\n  const [artistsData, setArtistsData] = useState({\n    \"Artists\": []\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const fetchData = useCallback(async page => {\n    try {\n      const response = await axios.get(`/GetArtists`, {\n        params: {\n          page,\n          per_page: 20\n        }\n      });\n      setArtistsData({\n        Artists: response.data\n      });\n      const responseLength = await axios.get(`/GetAllArtists`);\n      const totalArtists = responseLength.data.length;\n      console.log(responseLength.data.length + \" Total artists listed \" + totalArtists);\n      setTotalPages(Math.ceil(totalArtists / 20));\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  }, []);\n  useEffect(() => {\n    fetchData(currentPage);\n  }, [currentPage, fetchData]);\n  const handlePageChange = newPage => {\n    setCurrentPage(newPage);\n    fetchData(newPage);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"m-5 page-title\",\n      children: \"Artists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), artistsData && artistsData.Artists && artistsData.Artists.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-5 m-5\",\n      children: artistsData.Artists.map(artist => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xl-3\",\n        children: /*#__PURE__*/_jsxDEV(ArtistsCard, {\n          name: artist.name,\n          id: artist.id,\n          popularity: artist.popularity,\n          genreId: artist.genre_id,\n          albums: artist.albums,\n          albumCovers: artist.album_covers,\n          futureEvents: artist.future_events,\n          image_url: artist.image_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 33\n        }, this)\n      }, artist.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-item\",\n          disabled: currentPage === 1,\n          onClick: () => handlePageChange(currentPage - 1),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), Array.from({\n          length: totalPages\n        }, (_, index) => currentPage === index + 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-item text-bg-dark\",\n          children: currentPage\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-item\",\n          disabled: currentPage === totalPages,\n          onClick: () => handlePageChange(currentPage + 1),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Artists, \"D7YUF8NFavr/t0Ls6f8bVloH6OQ=\");\n_c = Artists;\nexport default Artists;\nvar _c;\n$RefreshReg$(_c, \"Artists\");","map":{"version":3,"names":["React","ArtistsCard","useState","useEffect","useCallback","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Artists","_s","artistsData","setArtistsData","currentPage","setCurrentPage","totalPages","setTotalPages","fetchData","page","response","get","params","per_page","data","responseLength","totalArtists","length","console","log","Math","ceil","error","handlePageChange","newPage","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","artist","name","id","popularity","genreId","genre_id","albums","albumCovers","album_covers","futureEvents","future_events","image_url","disabled","onClick","Array","from","_","index","_c","$RefreshReg$"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/Artists.js"],"sourcesContent":["import React from 'react';\nimport ArtistsCard from \"./ArtistsCard\";\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\n\nfunction Artists() {\n    const [artistsData, setArtistsData] = useState({ \"Artists\": [] });\n    const [currentPage, setCurrentPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n\n    const fetchData = useCallback(async (page) => {\n        try {\n            const response = await axios.get(`/GetArtists`, {\n                params: { page, per_page: 20 }\n            });\n\n            setArtistsData({ Artists: response.data });\n\n            const responseLength = await axios.get(`/GetAllArtists`);\n            const totalArtists = responseLength.data.length;\n            console.log(responseLength.data.length + \" Total artists listed \" + totalArtists);\n            setTotalPages(Math.ceil(totalArtists / 20));\n        } catch (error) {\n            console.error(\"Error:\", error);\n        }\n    }, []);\n\n    useEffect(() => {\n        fetchData(currentPage);\n    }, [currentPage, fetchData]);\n\n    const handlePageChange = (newPage) => {\n        setCurrentPage(newPage);\n        fetchData(newPage);\n    };\n\n    return (\n        <>\n            <h1 className=\"m-5 page-title\">Artists</h1>\n            {\n                artistsData && artistsData.Artists && artistsData.Artists.length > 0 ?\n                (\n                    <div className=\"row g-5 m-5\">\n                        {artistsData.Artists.map((artist) => (\n                            <div className=\"col-xl-3\" key={artist.id}>\n                                <ArtistsCard\n                                    name={artist.name}\n                                    id={artist.id}\n                                    popularity={artist.popularity}\n                                    genreId={artist.genre_id}\n                                    albums={artist.albums}\n                                    albumCovers={artist.album_covers}\n                                    futureEvents={artist.future_events}\n                                    image_url={artist.image_url}\n                                />\n                            </div>\n                        ))}\n                    </div>\n                )\n                :\n                (\n                    <></>\n                )\n            }\n            <div className=\"d-flex justify-content-center align-items-center\">\n                <div className=\"pagination p-5\">\n                    <button className=\"page-item\" disabled={currentPage === 1} onClick={() => handlePageChange(currentPage - 1)}>Back</button>\n                    {Array.from({ length: totalPages }, (_, index) => (\n                        currentPage === index + 1 ?\n                            <button key={index} className=\"page-item text-bg-dark\">{currentPage}</button>\n                            :\n                            <></>\n                    ))}\n                    <button className=\"page-item\" disabled={currentPage === totalPages} onClick={() => handlePageChange(currentPage + 1)}>Next</button>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Artists;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}