{"ast":null,"code":"import React from\"react\";import{useParams}from\"react-router-dom\";import{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ArtistsPage(){const{artistId}=useParams();const[artistData,setArtistData]=useState(null);// Initialize with null\nconst[genreName,setGenreName]=useState(\"\");const[albumCoverPairs,setAlbumCoverPairs]=useState({});const[eventIdPairs,setEventIdPairs]=useState({});useEffect(()=>{const GetArtistInfo=async()=>{try{const response=await axios.get(\"/GetArtist/\".concat(artistId));setArtistData(response.data);}catch(error){console.error('Error ',error);}};GetArtistInfo();},[artistId]);useEffect(()=>{if(artistData){const GetGenreName=async()=>{try{const genreResponse=await axios.get(\"/GetGenre/\".concat(artistData.genre_id));setGenreName(genreResponse.data.name);}catch(error){console.error('Error ',error);}};const getEventNames=async()=>{try{const eventPromises=artistData.future_events.map(async eventId=>{const response=await axios.get(\"/GetEvent/\".concat(eventId));return{eventId,eventName:response.data.event_name};});const eventNames=await Promise.all(eventPromises);const eventIdPairs=Object.fromEntries(eventNames.map(event=>[event.eventId,event.eventName]));setEventIdPairs(eventIdPairs);}catch(error){console.error('Error:',error);}};if(artistData.albums&&artistData.album_covers){const albumCoverPairs=Object.fromEntries(artistData.albums.map((key,index)=>[key,artistData.album_covers[index]]));setAlbumCoverPairs(albumCoverPairs);}GetGenreName();getEventNames();}},[artistData]);if(!artistData){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"artist-page m-5 g-5 text-start d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"artist-page-title\",children:artistData.name}),/*#__PURE__*/_jsxs(\"h3\",{className:\"artist-page-text\",children:[\"Popularity: \",artistData.popularity,\" / 100\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"artist-page-text mb-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/genre/\".concat(artistData.genre_id),className:\"artist-page-text\",children:genreName})}),/*#__PURE__*/_jsx(\"h1\",{className:\"artist-page-subtitle\",children:\"Albums\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row artist-page-albums flex-wrap\",children:Object.entries(albumCoverPairs).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-white col-lg-4\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"artist-page-album\",src:value,alt:\"albumCover\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:key})})]},key);})}),/*#__PURE__*/_jsx(\"h1\",{className:\"artist-page-subtitle mb-4\",children:\"Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column\",children:Object.entries(eventIdPairs).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(Link,{to:\"/venue/\".concat(key),className:\"artist-page-smalltext\",children:value})})},key);})})]})});}export default ArtistsPage;","map":{"version":3,"names":["React","useParams","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ArtistsPage","artistId","artistData","setArtistData","genreName","setGenreName","albumCoverPairs","setAlbumCoverPairs","eventIdPairs","setEventIdPairs","GetArtistInfo","response","get","concat","data","error","console","GetGenreName","genreResponse","genre_id","name","getEventNames","eventPromises","future_events","map","eventId","eventName","event_name","eventNames","Promise","all","Object","fromEntries","event","albums","album_covers","key","index","children","className","popularity","to","entries","_ref","value","src","alt","_ref2"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/ArtistsPage.js"],"sourcesContent":["import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction ArtistsPage() {\n    const { artistId } = useParams();\n    const [artistData, setArtistData] = useState(null);  // Initialize with null\n    const [genreName, setGenreName] = useState(\"\");\n    const [albumCoverPairs, setAlbumCoverPairs] = useState({});\n    const [eventIdPairs, setEventIdPairs] = useState({});\n\n    useEffect(() => {\n        const GetArtistInfo = async () => {\n            try {\n                const response = await axios.get(`/GetArtist/${artistId}`);\n                setArtistData(response.data);\n            } catch (error) {\n                console.error('Error ', error);\n            }\n        };\n        GetArtistInfo();\n    }, [artistId]);\n\n    useEffect(() => {\n        if (artistData) {\n            const GetGenreName = async () => {\n                try {\n                    const genreResponse = await axios.get(`/GetGenre/${artistData.genre_id}`);\n                    setGenreName(genreResponse.data.name);\n                } catch (error) {\n                    console.error('Error ', error);\n                }\n            };\n\n            const getEventNames = async () => {\n                try {\n                    const eventPromises = artistData.future_events.map(async (eventId) => {\n                        const response = await axios.get(`/GetEvent/${eventId}`);\n                        return { eventId, eventName: response.data.event_name };\n                    });\n                    const eventNames = await Promise.all(eventPromises);\n\n                    const eventIdPairs = Object.fromEntries(\n                        eventNames.map(event => [event.eventId, event.eventName])\n                    );\n                    setEventIdPairs(eventIdPairs);\n                } catch (error) {\n                    console.error('Error:', error);\n                }\n            };\n\n            if (artistData.albums && artistData.album_covers) {\n                const albumCoverPairs = Object.fromEntries(\n                    artistData.albums.map((key, index) => [key, artistData.album_covers[index]])\n                );\n                setAlbumCoverPairs(albumCoverPairs);\n            }\n\n            GetGenreName();\n            getEventNames();\n        }\n    }, [artistData]);\n\n    if (!artistData) {\n        return <div>Loading...</div>;\n    }\n\n    return (\n        <>\n            <div className=\"artist-page m-5 g-5 text-start d-flex flex-column\">\n                <h1 className=\"artist-page-title\">{artistData.name}</h1>\n                <h3 className=\"artist-page-text\">Popularity: {artistData.popularity} / 100</h3>\n                <h1 className=\"artist-page-text mb-5\"><Link to={`/genre/${artistData.genre_id}`} className=\"artist-page-text\">{genreName}</Link></h1>\n                <h1 className=\"artist-page-subtitle\">Albums</h1>\n                <div className=\"row artist-page-albums flex-wrap\">\n                    {\n                        Object.entries(albumCoverPairs).map(([key, value]) => (\n                            <div className=\"text-white col-lg-4\" key={key}>\n                                <img className=\"artist-page-album\" src={value} alt=\"albumCover\" />\n                                <p><b>{key}</b></p>\n                            </div>\n                        ))\n                    }\n                </div>\n                <h1 className=\"artist-page-subtitle mb-4\">Events</h1>\n                <div className=\"d-flex flex-column\">\n                    {\n                        Object.entries(eventIdPairs).map(([key, value]) => (\n                            <p key={key}><b><Link to={`/venue/${key}`} className=\"artist-page-smalltext\">{value}</Link></b></p>\n                        ))\n                    }\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default ArtistsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}