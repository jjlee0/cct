{"ast":null,"code":"var _jsxFileName = \"/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/Venue.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport VenueCard from './VenueCard';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Venue() {\n  _s();\n  const [eventData, setEventData] = useState({\n    \"events\": [{\n      \"id\": \"Z698xZu0ZaGQo\",\n      \"event_name\": \"Childish Gambino\",\n      \"artist_names\": [\"Childish Gambino\"],\n      \"dateAndTime\": [2024, 11, 12],\n      \"sales_start_end\": \"2024-05-17T08:00:00Z to 2024-11-12T22:59:00Z\",\n      \"price_range\": [1490.0, 4242.0],\n      \"genre_id\": \"KnvZfZ7vAvv\",\n      \"venue\": {\n        \"name\": \"O2 Arena\",\n        \"address\": \"\\u010ceskomoravsk\\u00e1 2345/17a, Praha 9\",\n        \"phoneNumber\": \"020 8463 2000\",\n        \"rating\": \"4.5 / 5\",\n        \"website\": \"https://www.theo2.co.uk/\"\n      },\n      \"ticketmaster_URL\": \"https://www.ticketmaster.cz/event/childish-gambino-tickets/50833?language=en-us\"\n    }]\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const fetchData = async page => {\n    try {\n      // const response = await axios.get(`https://www.cheapcheapticket.xyz/GetEvents`, {\n      const response = await axios.get(`/GetEvents`, {\n        params: {\n          page,\n          per_page: 30\n        }\n      });\n      const responseLength = await axios.get(`/GetAllEvents`);\n      const newEvents = response.data.map((newEvent, index) => {\n        const defaultEvent = eventData.events[index] || {\n          id: \"\",\n          event_name: \"\",\n          artist_names: [],\n          dateAndTime: [],\n          sales_start_end: \"\",\n          price_range: [],\n          genre_id: \"\",\n          venue: {\n            name: \"\",\n            address: \"\",\n            phoneNumber: \"\",\n            rating: \"\",\n            website: \"\"\n          },\n          ticketmaster_URL: \"\"\n        };\n        return {\n          ...defaultEvent,\n          ...newEvent,\n          venue: {\n            ...defaultEvent.venue,\n            ...newEvent.venue\n          }\n        };\n      });\n      setEventData({\n        events: newEvents\n      });\n      const totalEvents = responseLength.data.length;\n      setTotalPages(Math.ceil(totalEvents / 30));\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchData(currentPage);\n  }, [currentPage]);\n  const handlePageChange = newPage => {\n    if (newPage > 0 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        class: \"page-title\",\n        children: \"Ents\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"page-title\",\n        children: \"Events all across the US! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row g-4 m-5\",\n      children: eventData.events.map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(VenueCard, {\n          eventId: event.id,\n          eventName: event.event_name,\n          artistNames: event.artist_names,\n          dateAndTime: event.dateAndTime,\n          salesStartEnd: event.sales_start_end,\n          priceRange: event.price_range,\n          genreId: event.genre_id,\n          venue: event.venue,\n          ticketmasterURL: event.ticketmaster_URL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-item\",\n          disabled: currentPage === 1,\n          onClick: () => handlePageChange(currentPage - 1),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), Array.from({\n          length: totalPages\n        }, (_, index) => currentPage === index + 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \" page-item text-bg-dark\",\n          children: currentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-item\",\n          disabled: currentPage === totalPages,\n          onClick: () => handlePageChange(currentPage + 1),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_s(Venue, \"6XTzlSDs0WzdMxHczcCTQ7NSPXY=\");\n_c = Venue;\nexport default Venue;\nvar _c;\n$RefreshReg$(_c, \"Venue\");","map":{"version":3,"names":["React","useState","useEffect","VenueCard","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Venue","_s","eventData","setEventData","currentPage","setCurrentPage","totalPages","setTotalPages","fetchData","page","response","get","params","per_page","responseLength","newEvents","data","map","newEvent","index","defaultEvent","events","id","event_name","artist_names","dateAndTime","sales_start_end","price_range","genre_id","venue","name","address","phoneNumber","rating","website","ticketmaster_URL","totalEvents","length","Math","ceil","error","console","handlePageChange","newPage","children","class","fileName","_jsxFileName","lineNumber","columnNumber","className","event","eventId","eventName","artistNames","salesStartEnd","priceRange","genreId","ticketmasterURL","disabled","onClick","Array","from","_","_c","$RefreshReg$"],"sources":["/Users/josep/373/cs373-idb/cs373-idb/frontend/src/components/Venue.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport VenueCard from './VenueCard';\nimport axios from 'axios';\n\nfunction Venue() {\n\n  const [eventData, setEventData] = useState({\n    \"events\": [\n      {\n        \"id\": \"Z698xZu0ZaGQo\",\n        \"event_name\": \"Childish Gambino\",\n        \"artist_names\": [\"Childish Gambino\"],\n        \"dateAndTime\": [2024, 11, 12],\n        \"sales_start_end\": \"2024-05-17T08:00:00Z to 2024-11-12T22:59:00Z\",\n        \"price_range\": [1490.0, 4242.0],\n        \"genre_id\": \"KnvZfZ7vAvv\",\n        \"venue\": { \"name\": \"O2 Arena\", \"address\": \"\\u010ceskomoravsk\\u00e1 2345/17a, Praha 9\", \"phoneNumber\": \"020 8463 2000\", \"rating\": \"4.5 / 5\", \"website\": \"https://www.theo2.co.uk/\" },\n        \"ticketmaster_URL\": \"https://www.ticketmaster.cz/event/childish-gambino-tickets/50833?language=en-us\"\n      }\n    ]\n  });\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  const fetchData = async (page) => {\n    try {\n      // const response = await axios.get(`https://www.cheapcheapticket.xyz/GetEvents`, {\n        const response = await axios.get(`/GetEvents`, {\n        params: { page, per_page: 30 }\n      });\n      \n      const responseLength = await axios.get(`/GetAllEvents`);\n\n      const newEvents = response.data.map((newEvent, index) => {\n        const defaultEvent = eventData.events[index] || {\n          id: \"\",\n          event_name: \"\",\n          artist_names: [],\n          dateAndTime: [],\n          sales_start_end: \"\",\n          price_range: [],\n          genre_id: \"\",\n          venue: {\n            name: \"\",\n            address: \"\",\n            phoneNumber: \"\",\n            rating: \"\",\n            website: \"\"\n          },\n          ticketmaster_URL: \"\"\n        };\n        return {\n          ...defaultEvent,\n          ...newEvent,\n          venue: {\n            ...defaultEvent.venue,\n            ...newEvent.venue\n          }\n        };\n      });\n      setEventData({ events: newEvents });\n      const totalEvents = responseLength.data.length;\n      setTotalPages(Math.ceil(totalEvents / 30));\n      \n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  }\n\n  useEffect(() => {\n    fetchData(currentPage);\n  }, [currentPage]); \n\n  const handlePageChange = (newPage) => {\n    if (newPage > 0 && newPage <= totalPages) {\n      setCurrentPage(newPage);\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <h2 class=\"page-title\">Ents</h2>\n        <p class=\"page-title\">Events all across the US! </p>\n      </div>\n      <div className=\"row g-4 m-5\">\n        {\n          eventData.events.map((event, index) => (\n            <div className=\"col-lg-4\" key={index}>\n              <VenueCard\n                eventId={event.id}\n                eventName={event.event_name}\n                artistNames={event.artist_names}\n                dateAndTime={event.dateAndTime}\n                salesStartEnd={event.sales_start_end}\n                priceRange={event.price_range}\n                genreId={event.genre_id}\n                venue={event.venue}\n                ticketmasterURL={event.ticketmaster_URL}\n              />\n            </div>\n          ))\n        }\n      </div>\n\n      <div className=\"d-flex justify-content-center align-items-center\">\n        <div className=\"pagination p-5\">\n          <button className=\"page-item\" disabled={currentPage === 1} onClick={() => handlePageChange(currentPage - 1)}>Back</button>\n          {Array.from({ length: totalPages }, (_, index) => (\n            currentPage === index + 1 ?\n              <button class=\" page-item text-bg-dark\" >{currentPage}</button>\n              :\n              <></>\n          ))}\n          <button className=\"page-item\" disabled={currentPage === totalPages} onClick={() => handlePageChange(currentPage + 1)}>Next</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Venue;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}